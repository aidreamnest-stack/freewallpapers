<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>A Dream Art â€” Wallpapers</title>
  <link rel="icon" href="https://ik.imagekit.io/h2tos5anh/photo_2025-11-07_09-52-15.jpg" type="image/png">
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">

  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:'Poppins',sans-serif;background:#0d0d0d;color:#fff;line-height:1.6;overflow-x:hidden}
    header{padding:15px 20px;display:flex;flex-direction:column;align-items:center;background:#000;position:relative}
    .logo{font-family:'Dancing Script',cursive;font-size:2.2rem;color:#fff;text-align:center}
    #hamburger{position:absolute;top:20px;right:20px;width:25px;height:20px;display:flex;flex-direction:column;justify-content:space-between;cursor:pointer;z-index:1001}
    #hamburger span{height:3px;background:#fff;border-radius:2px;transition:all 0.4s}
    #hamburger.active span:nth-child(1){transform:rotate(45deg) translate(5px,5px)}
    #hamburger.active span:nth-child(2){opacity:0}
    #hamburger.active span:nth-child(3){transform:rotate(-45deg) translate(5px,-5px)}
    #overlay{position:fixed;inset:0;background:rgba(0,0,0,0.5);opacity:0;visibility:hidden;transition:opacity 0.4s;z-index:1040}
    #overlay.show{opacity:1;visibility:visible}
    #sidebar{position:fixed;top:0;left:-300px;width:300px;height:100%;background:#111;display:flex;flex-direction:column;padding-top:80px;transition:transform 0.45s cubic-bezier(.77,0,.175,1);z-index:1050}
    #sidebar.show{transform:translateX(300px)}
    #sidebar a{color:#fff;text-decoration:none;padding:15px 25px;font-weight:600;border-bottom:1px solid #333}
    #sidebar a:hover{background:#fff;color:#000}
    section{padding:40px 20px;max-width:1200px;margin:auto}
    .section-title{font-family:'Dancing Script',cursive;font-size:2rem;margin-bottom:10px}
    .controls{display:flex;flex-wrap:wrap;gap:12px;margin-bottom:25px;align-items:center}
    .search-input,.category-select{padding:10px 14px;border:none;border-radius:8px;font-size:1rem}
    .search-input{flex:1;min-width:220px}
    .category-select{background:#fff;color:#000;font-weight:600}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:22px}
    .card-wrap{perspective:1000px}
    .card-inner{position:relative;width:100%;aspect-ratio:3/4;transform-style:preserve-3d;transition:transform .6s;cursor:pointer;border-radius:12px;overflow:hidden}
    .card-inner.is-flipped{transform:rotateY(180deg)}
    .card-front,.card-back{position:absolute;inset:0;border-radius:12px;backface-visibility:hidden;overflow:hidden;box-shadow:0 8px 18px rgba(0,0,0,.5)}
    .card-front{transform:rotateY(0deg);z-index:2}
    .card-front img{width:100%;height:100%;object-fit:cover}
    .card-back{background:#000;color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:12px;padding:18px;transform:rotateY(180deg)}
    .card-inner.is-flipped .card-front{transform:rotateY(180deg)}
    .card-inner.is-flipped .card-back{transform:rotateY(180deg)}
    .btn{padding:8px 14px;border-radius:999px;background:#fff;color:#000;font-weight:700;cursor:pointer;border:none}
    .btn.alt{background:transparent;border:2px solid #fff;color:#fff}
    .caption{font-family:'Dancing Script',cursive;margin-top:10px;text-align:center}
    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.85);z-index:2000;padding:20px}
    .modal.show{display:flex}
    .modal-img{max-width:100%;max-height:90vh;border-radius:8px}
    .modal-close{position:absolute;top:18px;right:18px;background:transparent;border:2px solid #fff;color:#fff;border-radius:8px;padding:6px 10px;font-weight:700;cursor:pointer}
    footer{background:#000;padding:18px;text-align:center;color:#ccc;margin-top:40px}
    footer a{color:#fff;text-decoration:none;margin:0 6px}
  </style>
</head>
<body>

<header>
  <h1 class="logo">A Dream Art</h1>
  <div id="hamburger"><span></span><span></span><span></span></div>
</header>

<div id="overlay"></div>
<div id="sidebar">
  <a href="/">Home</a>
  <a href="/wallpapers/">Wallpapers</a>
  <a href="/about/">About</a>
  <a href="/contact/">Contact</a>
  <a href="/privacy/">Privacy Policy</a>
</div>

<section>
  <h2 class="section-title">Free Wallpapers</h2>
  <div class="controls">
    <input type="text" id="searchInput" class="search-input" placeholder="Search wallpapers...">
    <select id="categorySelect" class="category-select">
      <option value="all">All Categories</option>
    </select>
  </div>
  <div id="grid" class="grid"></div>
</section>

<div id="modal" class="modal">
  <button id="modalClose" class="modal-close">Close</button>
  <img id="modalImg" class="modal-img" alt="preview">
</div>

<footer>
  <p>&copy; 2025 A Dream Art. All rights reserved.</p>
</footer>

<script>
const hamburger=document.getElementById('hamburger');
const sidebar=document.getElementById('sidebar');
const overlay=document.getElementById('overlay');
hamburger.onclick=()=>{hamburger.classList.toggle('active');sidebar.classList.toggle('show');overlay.classList.toggle('show');};
overlay.onclick=()=>{hamburger.classList.remove('active');sidebar.classList.remove('show');overlay.classList.remove('show');};
sidebar.querySelectorAll('a').forEach(a=>a.onclick=()=>{hamburger.classList.remove('active');sidebar.classList.remove('show');overlay.classList.remove('show');});

const grid=document.getElementById('grid');
const modal=document.getElementById('modal');
const modalImg=document.getElementById('modalImg');
const modalClose=document.getElementById('modalClose');
const searchInput=document.getElementById('searchInput');
const categorySelect=document.getElementById('categorySelect');

let allWallpapers=[];

function openModal(src){modalImg.src=src;modal.classList.add('show');document.body.style.overflow='hidden';}
function closeModal(){modal.classList.remove('show');modalImg.src='';document.body.style.overflow='';}
modalClose.onclick=closeModal;modal.onclick=e=>{if(e.target===modal)closeModal();};

async function forceDownload(url,name){
  const a=document.createElement('a');
  a.href=url;a.download=name;document.body.appendChild(a);a.click();a.remove();
}

function buildGrid(list){
  grid.innerHTML='';
  if(list.length===0){grid.innerHTML='<p>No wallpapers found.</p>';return;}
  list.forEach(it=>{
    const wrap=document.createElement('div');
    wrap.className='card-wrap';
    wrap.innerHTML=`
      <div class="card-inner">
        <div class="card-front"><img src="${it.thumb||it.image}" alt="${it.title||'Wallpaper'}"></div>
        <div class="card-back">
          <h3>${it.title||''}</h3>
          <div style="display:flex;gap:10px;">
            <button class="btn preview">Preview</button>
            <button class="btn alt download">Download</button>
          </div>
        </div>
      </div>
      <div class="caption">${it.title||''}</div>
    `;
    grid.appendChild(wrap);
    const inner=wrap.querySelector('.card-inner');
    inner.onclick=e=>{if(e.target.closest('button'))return;inner.classList.toggle('is-flipped');};
    wrap.querySelector('.preview').onclick=e=>{e.stopPropagation();openModal(it.image);};
    wrap.querySelector('.download').onclick=e=>{e.stopPropagation();forceDownload(it.image,it.title+'.jpg');};
  });
}

function updateFilters(){
  const q=searchInput.value.toLowerCase();
  const cat=categorySelect.value;
  const filtered=allWallpapers.filter(w=>{
    const matchSearch=w.title.toLowerCase().includes(q)||(w.description||'').toLowerCase().includes(q);
    const matchCat=cat==='all'||(w.tags||[]).map(t=>t.toLowerCase()).includes(cat.toLowerCase());
    return matchSearch&&matchCat;
  });
  buildGrid(filtered);
}

searchInput.oninput=updateFilters;
categorySelect.onchange=updateFilters;

(async()=>{
  const res=await fetch('wallpapers.json');
  allWallpapers=await res.json();

  // collect unique tags
  const tagSet=new Set();
  allWallpapers.forEach(w=>(w.tags||[]).forEach(t=>tagSet.add(t)));
  [...tagSet].sort().forEach(tag=>{
    const opt=document.createElement('option');
    opt.value=tag;opt.textContent=tag;categorySelect.appendChild(opt);
  });

  buildGrid(allWallpapers);
})();
</script>
</body>
</html>
